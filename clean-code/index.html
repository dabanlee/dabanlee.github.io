<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        
            JavaScript ä»£ç ç®€æ´ä¹‹é“ - å¤§æ¿æ —æƒ³å†™ç‚¹ä¸œè¥¿
        
    </title>
    <meta name="keywords" content>
    <meta name="description" content>
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/dist/css/github-gist.css">
    <link rel="stylesheet" href="/dist/css/app.css">
</head>


<body data-page="article">

</body></html>
<header class="Header">
    <nav class="Nav">
        <div class="container">
            <div class="Logo">
                <a href="https://justclear.github.io">
                    <img src="/images/logo.jpg" alt="å¤§æ¿æ —æƒ³å†™ç‚¹ä¸œè¥¿">
                </a>
            </div>
            <ul class="menu">
                
                <li><a href="/">HOME</a></li>
                
                <li><a href="/idea">IDEA</a></li>
                
                <li><a href="https://unsplash.com/@dabanli">PHOTOGRAPHY</a></li>
                
                <li><a href="/about/">ABOUT</a></li>
                
                <li><a href="https://github.com/justclear">GITHUB</a></li>
                
            </ul>
            <div class="icon-menu js-icon-menu"></div>
        </div>
    </nav>
</header>
<ul class="menu-mobile js-menu-mobile">
    
    <li><a href="/">HOME</a></li>
    
    <li><a href="/idea">IDEA</a></li>
    
    <li><a href="https://unsplash.com/@dabanli">PHOTOGRAPHY</a></li>
    
    <li><a href="/about/">ABOUT</a></li>
    
    <li><a href="https://github.com/justclear">GITHUB</a></li>
    
</ul>


<div class="page-content">
    <div class="container">
        <article class="article">
            <header class="article-header">
                <h1 class="article-title">JavaScript ä»£ç ç®€æ´ä¹‹é“</h1>
                
            </header>
            <section class="article-content">
                 <p>æƒ³å¿…å¤§å®¶éƒ½æœ‰æ¥æ‰‹è¿‡è€æ—§é¡¹ç›®ï¼Œå®ƒçš„ä»£ç é£æ ¼æ€ä¹ˆæ ·ï¼Ÿå¯èƒ½å¤§éƒ¨åˆ†åŒå­¦éƒ½ä¼šæ— åŠ›åæ§½å§ã€‚ç¬”è€…è®¤ä¸ºä¸€ä»½ä»£ç çš„å¥½åï¼Œå…ˆä¸ç®¡å…¶å®ç°å¦‚ä½•ï¼Œè‡³å°‘å…¶ <strong>å¯è¯»æ€§</strong> å¾—ä¿è¯ï¼Œæ‰èƒ½ç®—å¾—ä¸Šå¥½ä»£ç ã€‚æœ‰äº›è¿˜æ²¡æœ‰æ„è¯†åˆ° <strong>å¯è¯»æ€§ä»£ç </strong> æ‰€å¸¦æ¥å¥½å¤„çš„åŒå­¦ï¼Œå¯èƒ½ç»å¸¸ä¼šé‡åˆ°ä¸Šå‘¨æ‰å†™çš„ä»£ç ï¼Œä»Šå¤©æ‰“å¼€é¡¹ç›®ä¸€çœ‹ï¼Œå§æ§½ï¼Œè¿™ä¸ª ğŸ’© ä¸€æ ·çš„ä»£ç æ˜¯æˆ‘å†™çš„å—ï¼Ÿ</p>
<p>ç¬”è€…çš„ <strong>ä»£ç æ´ç™–</strong> æœ‰ç‚¹ä¸¥é‡ï¼Œæ‰€ä»¥å¹³æ—¶å¯¹è‡ªå·±å†™çš„ä»£ç ä¹Ÿæœ‰æ¯”è¾ƒé«˜çš„è¦æ±‚ï¼Œè‡³å°‘åœ¨ <strong>å¯è¯»æ€§</strong> ä¸Šç®—æ˜¯æ¯”è¾ƒèƒ½ä¿è¯ã€‚ä¸‹é¢å°†åˆ†äº«ä¸€äº›ä»£ç  <strong>å¯è¯»æ€§</strong> å’Œ <strong>ç®€æ´æ€§</strong> æ–¹é¢çš„ä¸€äº›æŠ€å·§ã€‚</p>
<h2 id="å‘½å"><a href="#å‘½å" class="headerlink" title="å‘½å"></a>å‘½å</h2><p>ç›¸ä¿¡å¤§å®¶æ¯”è¾ƒå¤šçš„åæ§½å°±æ˜¯å˜é‡çš„å‘½åï¼Œä»¥è‡³äºå‡ºç°ç±»ä¼¼ <a href="https://unbug.github.io/codelf" target="_blank" rel="noopener">CodeIf</a> è¿™ç§è¾…åŠ©å£°æ˜å˜é‡åçš„ç¥å™¨ï¼Œæ‰€ä»¥å¹³æ—¶åœ¨é¡¹ç›®ä¸­å¦‚ä½•åšåˆ°å¥½çš„å‘½åå‘¢ã€‚</p>
<blockquote>
<p>å…¶å®å¤§å¤šæ•°çš„å˜é‡èµ‹å€¼åéƒ½ä¸ä¼šå†æ”¹å˜ï¼ˆé‡æ–°èµ‹å€¼ï¼‰ï¼Œæ‰€ä»¥ç¬”è€…ä¼šä¼˜å…ˆä½¿ç”¨ <code>const</code> è€Œä¸æ˜¯ <code>let</code>ï¼Œç¡®å®æ— æ³•é¿å…éœ€è¦èµ‹å€¼å¤šæ¬¡æ‰ç”¨ <code>let</code>ã€‚</p>
</blockquote>
<h3 id="å¸¸é‡éƒ½åº”è¯¥å‘½å"><a href="#å¸¸é‡éƒ½åº”è¯¥å‘½å" class="headerlink" title="å¸¸é‡éƒ½åº”è¯¥å‘½å"></a>å¸¸é‡éƒ½åº”è¯¥å‘½å</h3><pre><code class="js">// Bad
static({
    maxAge: 28800000, // what ???
});

// Good
const EIGHT_HOURS_IN_MILLISECOND = 28800000;
// or
const EIGHT_HOURS_IN_MILLISECOND = 8 * 60 * 60 * 1000;
static({
    maxAge: EIGHT_HOURS_IN_MILLISECOND,
});

// Bad
$(document).on(&#39;keydown&#39;, event =&gt; {
    // 27 æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿï¼Ÿï¼Ÿ
    if(event.keyCode === 27) {
        // do something ...
    }
});

// Good
$(document).on(&#39;keydown&#39;, event =&gt; {
    const KEY_ESC = 27;
    if(event.keyCode === KEY_ESC) {
        // do something ...
    }
});</code></pre>
<h3 id="æœ‰æ„ä¹‰çš„å‘½å"><a href="#æœ‰æ„ä¹‰çš„å‘½å" class="headerlink" title="æœ‰æ„ä¹‰çš„å‘½å"></a>æœ‰æ„ä¹‰çš„å‘½å</h3><pre><code class="js">// Bad
const n = &#39;å¤§æ¿æ —&#39;;
const a = 18;

// Good
const name = &#39;å¤§æ¿æ —&#39;;
const age = 18;</code></pre>
<h3 id="å‡å°‘å‘½åå†—ä½™"><a href="#å‡å°‘å‘½åå†—ä½™" class="headerlink" title="å‡å°‘å‘½åå†—ä½™"></a>å‡å°‘å‘½åå†—ä½™</h3><pre><code class="js">// Bad
const favoriteList = [];
const getCurrentUserData = () =&gt; {};

// Good
const favorites = [];
const getCurrentUser = () =&gt; {};</code></pre>
<h3 id="é¡¾åæ€ä¹‰"><a href="#é¡¾åæ€ä¹‰" class="headerlink" title="é¡¾åæ€ä¹‰"></a>é¡¾åæ€ä¹‰</h3><p>å•çœ‹å‡½æ•°åå°±åº”è¯¥çŸ¥é“åŠŸèƒ½æ˜¯ä»€ä¹ˆã€‚</p>
<pre><code class="js">// Bad
function fetchAtls() {}

// Good
function fetchArticles() {}
// or
function getArticles() {}</code></pre>
<h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><h3 id="ç®€åŒ–ä»£ç "><a href="#ç®€åŒ–ä»£ç " class="headerlink" title="ç®€åŒ–ä»£ç "></a>ç®€åŒ–ä»£ç </h3><p>åˆ©ç”¨ä¸‰ç›®è¿ç®—ç¬¦å’Œ ES6+ è¯­æ³•ç®€åŒ–ä»£ç </p>
<pre><code class="js">// Bad
$(&#39;.js-button&#39;).on(&#39;click&#39;, function() {
    var name = &#39;å¼€å§‹&#39;;
    if ($(this).hasClass(&#39;again&#39;)) {
        name = &#39;å†ç©ä¸€æ¬¡&#39;;
    }
    app.track(&#39;æŒ‰é’®&#39;, name);
});

// Good
$(&#39;.js-button&#39;).on(&#39;click&#39;, function() {
    const again = $(this).hasClass(&#39;again&#39;);
    app.track(again ? &#39;å†ç©ä¸€æ¬¡&#39; : &#39;å¼€å§‹&#39;);
});

// Bad
const celebrationDayChange = isSameDay =&gt; {
    if (isSameDay) {
        $dateSelect.addClass(&#39;hide&#39;);
    } else {
        $dateSelect.removeClass(&#39;hide&#39;);
    }
};

// Good
const celebrationDayChange = isSameDay =&gt; {
    const action = isSameDay ? &#39;addClass&#39; : &#39;removeClass&#39;;
    $dateSelect[action](&#39;hide&#39;);
};</code></pre>
<h3 id="å‡½æ•°å‚æ•°"><a href="#å‡½æ•°å‚æ•°" class="headerlink" title="å‡½æ•°å‚æ•°"></a>å‡½æ•°å‚æ•°</h3><p>å‡½æ•°çš„å‚æ•°å°½é‡ç®€çŸ­ï¼Œå¦‚æœ‰ 3 ä¸ªä»¥ä¸Šå»ºè®®ç›´æ¥æ¢æˆå¯¹è±¡çš„æ–¹å¼ï¼š</p>
<pre><code class="js">// Bad
function publish(title, author, except, content) {}
// å¿…é¡»çŸ¥é“å‚æ•°ä½ç½®ä¿¡æ¯
publish(&#39;title&#39;, &#39;å¤§æ¿æ —&#39;, &#39;an excellent article&#39;, &#39;This is content.&#39;);

// Good
function publish({title, author, except, content}) {}
publish({
    title: &#39;title&#39;,
    author: &#39;å¤§æ¿æ —&#39;,
    except: &#39;an excellent article&#39;,
    content: &#39;This is content.&#39;,
});</code></pre>
<h3 id="è®¾ç½®å¯¹è±¡é»˜è®¤å±æ€§"><a href="#è®¾ç½®å¯¹è±¡é»˜è®¤å±æ€§" class="headerlink" title="è®¾ç½®å¯¹è±¡é»˜è®¤å±æ€§"></a>è®¾ç½®å¯¹è±¡é»˜è®¤å±æ€§</h3><pre><code class="js">// Bad
const options = {
    name: &#39;å¤§æ¿æ —&#39;,
    logo: &#39;Logo.png&#39;,
    theme: &#39;dark&#39;,
};
function createApp(options = {}) {
    options.name = options.name || &#39;App&#39;;
    options.logo = options.logo || &#39;Logo.png&#39;;
    options.theme = options.theme || &#39;light&#39;;
}

// Good
function createApp(options = {}) {
    options = Object.assign({
        name: &#39;App&#39;,
        logo: &#39;Logo.png&#39;,
        theme: &#39;light&#39;,
    }, options);
}</code></pre>
<h3 id="å‚æ•°é»˜è®¤å€¼"><a href="#å‚æ•°é»˜è®¤å€¼" class="headerlink" title="å‚æ•°é»˜è®¤å€¼"></a>å‚æ•°é»˜è®¤å€¼</h3><pre><code class="js">// Bad
function App(name) {
    name = name || &#39;App&#39;;
    // ...
}

// Good
function App(name = &#39;App&#39;) {
    // ...
}</code></pre>
<h3 id="å‡½æ•°å¼é£æ ¼"><a href="#å‡½æ•°å¼é£æ ¼" class="headerlink" title="å‡½æ•°å¼é£æ ¼"></a>å‡½æ•°å¼é£æ ¼</h3><pre><code class="js">// Bad
function querify(object = {}) {
    const keys = Object.keys(object);
    let result = &#39;&#39;;
    for(let i = 0; i &lt; keys.length; i++) {
        result += `&amp;${keys[i]}=${object[keys[i]]}`;
    }
    result = result.slice(1);
    return result;
}

// Good
function querify(object = {}) {
    const keys = Object.keys(object);
    const result = keys.reduce((prev, current) =&gt; {
        prev += `&amp;${current}=${object[current]}`;
        return prev;
    }, &#39;&#39;).slice(1);
    return result;
}</code></pre>
<h3 id="é¿å…ä½¿ç”¨-switch"><a href="#é¿å…ä½¿ç”¨-switch" class="headerlink" title="é¿å…ä½¿ç”¨ switch"></a>é¿å…ä½¿ç”¨ switch</h3><pre><code class="js">// Bad
function reducer(state = 0, {type}) {
    switch (type) {
        case &#39;INCREASE&#39;:
            return state + 1;
        case &#39;DECREASE&#39;:
            return state - 1;
        default:
            return state;
    }
}

// Good
function reducer(state = 0, {type}) {
    const mapping = {
        &#39;INCREASE&#39;: state + 1,
        &#39;DECREASE&#39;: state - 1,
    };
    const effective = Object.keys(mapping).includes(type);
    return effective ? mapping[type] : state;
}</code></pre>
<h3 id="å°è£…-if-åˆ¤æ–­æ¡ä»¶"><a href="#å°è£…-if-åˆ¤æ–­æ¡ä»¶" class="headerlink" title="å°è£… if åˆ¤æ–­æ¡ä»¶"></a>å°è£… if åˆ¤æ–­æ¡ä»¶</h3><p>ä¸‹é¢æ˜¯ç¬”è€…å†™çš„ <a href="https://github.com/JustClear/postcss-background-image-auto-size" target="_blank" rel="noopener"><strong>è‡ªåŠ¨ä¸ºèƒŒæ™¯å›¾ç‰‡æ·»åŠ å®½é«˜</strong></a> çš„ PostCSS æ’ä»¶ä¸­çš„ <a href="https://github.com/JustClear/postcss-background-image-auto-size/blob/master/src/index.ts#L53-L66" target="_blank" rel="noopener">ä»£ç ç‰‡æ®µ</a>ï¼š</p>
<pre><code class="js">// Bad
if (/background[^:]*.*url[^;]+/gi.test(ruleString)) {
    const [originURL, URL] = getImageURL(ruleString);
    // ...
}

// Good
const hasBackground = rule =&gt; /background[^:]*.*url[^;]+/gi.test(rule);
if (hasBackground(ruleString)) {
    const [originURL, URL] = getImageURL(ruleString);
    // ...
}</code></pre>
<h3 id="åªåšä¸€ä»¶äº‹"><a href="#åªåšä¸€ä»¶äº‹" class="headerlink" title="åªåšä¸€ä»¶äº‹"></a>åªåšä¸€ä»¶äº‹</h3><p>å‡½æ•°æ˜¯æœ€å°å¯å¤ç”¨å•å…ƒï¼Œæ‰€ä»¥å¦‚æœä¸€ä¸ªå‡½æ•°åšäº†å¤šä¸ªäº‹æƒ…çš„è¯ï¼Œä»£è¡¨è¿™ä¸ªå‡½æ•°éš¾ä»¥è¢«å¤ç”¨ï¼Œ<strong>So, just do one thing.</strong></p>
<pre><code class="js">// Bad
function notify(users) {
    users.map(user =&gt; {
        const record = DB.find(user);
        if (record.isActive()) {
            sendMessage(user);
        }
    });
}

// Good
// judge activation only
function isActive(user) {
    const record = DB.find(user);
    return record.isActive();
}
function notify(users) {
    users.filter(isActive).forEach(sendMessage);
}</code></pre>
<h3 id="ä¸ç”¨ã€Œå¦å®šã€è¯­æ³•å‘½åå‡½æ•°"><a href="#ä¸ç”¨ã€Œå¦å®šã€è¯­æ³•å‘½åå‡½æ•°" class="headerlink" title="ä¸ç”¨ã€Œå¦å®šã€è¯­æ³•å‘½åå‡½æ•°"></a>ä¸ç”¨ã€Œå¦å®šã€è¯­æ³•å‘½åå‡½æ•°</h3><pre><code class="js">// Bad
const isNotSupport = () =&gt; {};
const canNotUpdate = () =&gt; {};

// Good
const isSupport = () =&gt; {};
const canUpdate = () =&gt; {};</code></pre>
<h2 id="ä½¿ç”¨-ES6-è¯­æ³•"><a href="#ä½¿ç”¨-ES6-è¯­æ³•" class="headerlink" title="ä½¿ç”¨ ES6+ è¯­æ³•"></a>ä½¿ç”¨ ES6+ è¯­æ³•</h2><h3 id="è§£æ„"><a href="#è§£æ„" class="headerlink" title="è§£æ„"></a>è§£æ„</h3><pre><code class="js">// Bad
const first = items[0];
const second = items[1];
const name = me.name;
const age = me.age;

// Good
const [first, second] = items;
const { name, age } = me;

// Bad
function App(options) {
    track({
        name: options.name,
        version: options.version,
        env: options.env,
    });
}

// Good
// è§£æ„å‡½æ•°å‚æ•°
function App({name, version, env}) {
    track({
        name: name,
        version: version,
        env: env,
    });
}

// Best
function App({name, version, env}) {
    // ä½¿ç”¨å¯¹è±¡ç®€å†™
    track({ name, version, env });
}</code></pre>
<h3 id="æ¨¡æ¿å­—ç¬¦ä¸²"><a href="#æ¨¡æ¿å­—ç¬¦ä¸²" class="headerlink" title="æ¨¡æ¿å­—ç¬¦ä¸²"></a>æ¨¡æ¿å­—ç¬¦ä¸²</h3><pre><code class="js">// Bad
const greeting = name =&gt; &#39;Hello &#39; + name + &#39;!&#39;;

// Good
const greeting = name =&gt; `Hello ${name}!`;</code></pre>
<h3 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" class="headerlink" title="ç®­å¤´å‡½æ•°"></a>ç®­å¤´å‡½æ•°</h3><pre><code class="js">// Bad
function greeting(name) {
    return `Hello ${name}!`;
}

// Good
const greeting = name =&gt; `Hello ${name}!`;</code></pre>
<h3 id="å¼ƒç”¨å›è°ƒå‡½æ•°"><a href="#å¼ƒç”¨å›è°ƒå‡½æ•°" class="headerlink" title="å¼ƒç”¨å›è°ƒå‡½æ•°"></a>å¼ƒç”¨å›è°ƒå‡½æ•°</h3><pre><code class="js">// Bad
fetchCurrentUser((error, currentUser) =&gt; {
    if(error) throw Error;
    fetchArticles(currentUser.id, (error, articles) =&gt; {
        if(error) throw Error;
        // articles here...
    });
});

// Good
fetchCurrentUser
.then(currentUser =&gt; currentUser.id)
.then(fetchArticles)
.then(articles =&gt; {
    // articles here...
})
.catch(() =&gt; {
    throw Error;
});

// Best
try {
    const currentUser = await fetchCurrentUser();
    const articles = await fetchArticles(currentUser.id);
    // articles here...
} catch() {
    throw Error;
}</code></pre>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>é•¿è€Œå…·æœ‰æè¿°æ€§çš„åç§°ï¼Œè¦æ¯”çŸ­è€Œä»¤äººè´¹è§£çš„åç§°å¥½ï¼Œä¹Ÿæ¯”æè¿°æ€§çš„é•¿æ³¨é‡Šæ›´å¥½ï¼Œå¥½çš„ä»£ç æ˜¯ <strong>è‡ªæ³¨é‡Š</strong> çš„ï¼Œä¸è¦æ‹…å¿ƒå˜é‡åå¤ªé•¿ï¼ˆæ‰“åŒ…å·¥å…·å‹ç¼©åéƒ½ä¸€æ ·ï¼‰ã€‚</p>
<p>ä»£ç ä¸åªæ˜¯å†™ç»™æœºå™¨çœ‹çš„ï¼Œä¹Ÿæ˜¯å†™ç»™äººçœ‹çš„ï¼Œæ‰€ä»¥ä»ç°åœ¨å¼€å§‹ç¼–å†™ <strong>å¯è¯»æ€§å¼º</strong>ã€<strong>æ˜“ç»´æŠ¤</strong> çš„ä»£ç å§ã€‚</p>
<p>æœ€åå‹æƒ…æé†’å¤§å®¶ <strong>ä»£ç åƒä¸‡è¡Œï¼Œæ³¨é‡Šç¬¬ä¸€è¡Œã€‚ç¼–ç¨‹ä¸è§„èŒƒï¼ŒåŒäº‹ä¸¤è¡Œæ³ªã€‚</strong></p>

            </section>
            <footer class="article-meta">
                
            </footer>
        </article>
    </div>
</div>

<footer class="Footer text-center">
    <div class="container">
        <section class="copyright">
            <a href="https://justclear.github.io">å¤§æ¿æ —</a>
            <span>&copy; 2015 - 2019</span>
        </section>
    </div>
</footer>

    <script src="/dist/js/highlight.pack.js"></script>
    <script src="/dist/js/app.js"></script>
    <!-- <script type="text/javascript" src="https://s4.cnzz.com/z_stat.php?id=1278149431&web_id=1278149431"></script> -->
</body>
</html>

